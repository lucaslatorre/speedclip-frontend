// Estilos base para o componente de botão
.sc-btn {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    background-color: var(--btn-bg);
    color: var(--btn-text);

    //border: 1px solid var(--btn-border);
    gap: var(--spacing-8);
    padding: var(--spacing-12) var(--spacing-24);

    border-radius: var(--radius-xl);
    font-weight: 500;
    outline: none;
    cursor: pointer;

    // Adicionando sombra elevada para efeito 3D
    box-shadow: var(--btn-shadow);

    transition: transform var(--transition-fast),
    background-color var(--transition-fast),
    opacity var(--transition-fast),
    box-shadow var(--transition-fast);

    background-image: var(--btn-gradient-default);

    /* desloca o gradiente 1px para cima (+ expande 2px em altura: 1px cima + 1px baixo) */
    background-position: center -1px;
    background-size: 100% calc(100% + 2px);

    /* faz com que o background seja pintado dentro da área de padding (não sobreponha borda) */
    background-origin: border-box; /* opcional, garante origem no border-box */
    //background-clip: padding-box;    /* importante: não pinta sobre a borda */

    border: 1px solid var(--btn-border);


    user-select: none;
    text-decoration: none;


    // Impede que links com routerLink mostrem sublinhado no hover
    &:hover {
        text-decoration: none;
    }

    // Efeito 3D no texto
    .label {
        /* referencia inline do filtro (SVG presente no mesmo documento) */
        filter: url(#embossText);
        -webkit-filter: url(#embossText); /* compatibilidade webkit (alguns browsers antigos) */

        /* dicas de renderização para reduzir serrilhado */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;

        /* força composição própria para evitar repinturas desnecessárias */
        will-change: filter, transform, opacity;

        /* fallback leve caso o filtro não seja suportado: sombra suave para simular relevo */
        text-shadow:
            0 1px 0 rgba(0,0,0,0.45),   /* sombra interna escura */
            0 2px 6px rgba(255,255,255,0.06); /* brilho sutil */
    }

    // Estado de hover - efeito mais pronunciado
    &:hover:not([aria-disabled="true"]) {
        box-shadow: var(--btn-shadow-hover);
        // Efeito de brilho sutil no hover
        background-image: var(--btn-gradient-hover);
    }

    // Estado de clique - efeito de pressionar
    &:active:not([aria-disabled="true"]) {
        transform: translateY(1px); // Movimento para baixo em vez de escala
        //box-shadow: var(--btn-shadow-active);
        background-image: var(--btn-gradient-active);
        /* inset sutil para simular contato/pressão — opcional, ajustável */
        /* se preferir sem inset, remover a linha abaixo */
        //box-shadow: var(--btn-shadow-active), inset 0px 6px 14px rgba(255,255,255,0.02);
        box-shadow: var(--btn-shadow-active);
    }

    // Variante outline
    &.outline {
        background-image: none;
        background-color: transparent;
        border: 1px solid var(--color-primary-strong);
        color: var(--color-text);
        box-shadow: var(--btn-outline-shadow);

        .label {
            text-shadow: none; // Sem text-shadow para outline
        }

        &:hover:not([aria-disabled="true"]) {
            background-color: var(--color-primary);
            box-shadow: var(--btn-shadow-hover), var(--btn-outline-shadow);
        }

        &:active:not([aria-disabled="true"]) {
            background-color: var(--color-primary-strong);
            transform: translateY(1px);
            box-shadow: var(--btn-shadow-active), inset 0px 4px 10px rgba(255, 255, 255, 0.015);
        }
    }

    // Variante text (sem fundo)
    &.text {
        background-color: transparent;
        background-image: none;
        border: none;
        color: var(--color-text);
        padding: var(--spacing-8) var(--spacing-16);
        box-shadow: none;


        .label {
            text-shadow: none; // Sem text-shadow para text variant
        }

        &:hover:not([aria-disabled="true"]) {
            background-color: color-mix(in srgb, var(--color-text) var(--hover-opacity-light), transparent);
            box-shadow: none;
        }

        &:active:not([aria-disabled="true"]) {
            background-color: color-mix(in srgb, var(--color-text) var(--active-opacity-light), transparent);
            transform: translateY(1px);
        }
    }

    // Tamanhos do botão
    &.sm {
        padding: var(--spacing-8) var(--spacing-16);
        font-size: 0.875rem;
        border-radius: var(--radius-md);
    }

    &.lg {
        padding: var(--spacing-16) var(--spacing-32);
        font-size: 1.125rem;
        border-radius: var(--radius-xl);
        //border-radius: 24px;
    }

    // Estado desabilitado - mesmo estilo para disabled e aria-disabled
    &[disabled], &[aria-disabled="true"] {
        opacity: 0.5;
        cursor: not-allowed;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        pointer-events: none;
        background-image: none;
    }

    // Estilo para spinner de loading
    .spinner {
        display: inline-block;
        width: 16px;
        height: 16px;
        border: 2px solid currentColor;
        border-radius: 50%;
        border-right-color: transparent;
        animation: spin 0.75s linear infinite;
    }

    // Quando em loading, texto fica levemente transparente para destacar o spinner
    &[aria-busy="true"] .label {
        opacity: 0.7;
    }

    /* acessibilidade e estados desabilitados */
    &[aria-disabled="true"],
    &[disabled] {
        cursor: not-allowed;
        opacity: 0.6;
        transform: none;
        box-shadow: none;
    }
}

// Animação para o spinner
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Performance: reduzir blur em telas pequenas se necessário */
@media (max-width: 480px) {
    .sc-btn .label {
        /* reduce blur cost on small devices by removing filter; rely on text-shadow fallback */
        filter: none;
        -webkit-filter: none;
    }
}